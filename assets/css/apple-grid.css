/* ==========================================================================
   Apple-like Responsive Grid System (12-col / 24px gutters / 8px base)
   --------------------------------------------------------------------------
   - 12 columns on >= 769px
   - 6 columns on 481–768px
   - 4 columns on <= 480px
   - Gutter: 24px (var(--grid-gap))
   - All spacing utilities are multiples of 8px (var(--grid-base-unit))
   - Uses CSS Grid with utility classes for spans/starts and gap controls
   ========================================================================== */

:root {
  --grid-columns: 12;
  --grid-gap: 24px;
  --grid-base-unit: 8px;
  --container-max: 1440px;
}

/* Container (optional; project also uses .wrapper) */
.container {
  width: 100%;
  max-width: min(var(--container-max), 100vw - var(--page-gutter) * 2);
  margin-inline: auto;
  padding-inline: var(--page-gutter);
}

/* Generic grid */
.grid {
  display: grid;
  grid-template-columns: repeat(var(--grid-columns), minmax(0, 1fr));
  gap: var(--grid-gap);
}

/* Map existing project grids to the 12-col system */
[class^="grid-"], [class*=" grid-"] {
  display: grid;
  gap: var(--grid-gap);
  grid-template-columns: repeat(var(--grid-columns), minmax(0, 1fr));
}

/* On desktop/tablet (12-col): span utilities and mapping of common N-per-row grids */
.grid-2 > * { grid-column: span 6; }   /* 2 per row */
.grid-3 > * { grid-column: span 4; }   /* 3 per row */
.grid-4 > * { grid-column: span 3; }   /* 4 per row */

/* Span utilities (12-col) */
.col-1  { grid-column: span 1; }
.col-2  { grid-column: span 2; }
.col-3  { grid-column: span 3; }
.col-4  { grid-column: span 4; }
.col-5  { grid-column: span 5; }
.col-6  { grid-column: span 6; }
.col-7  { grid-column: span 7; }
.col-8  { grid-column: span 8; }
.col-9  { grid-column: span 9; }
.col-10 { grid-column: span 10; }
.col-11 { grid-column: span 11; }
.col-12 { grid-column: span 12; }

/* Start (offset) utilities */
.start-1  { grid-column-start: 1; }
.start-2  { grid-column-start: 2; }
.start-3  { grid-column-start: 3; }
.start-4  { grid-column-start: 4; }
.start-5  { grid-column-start: 5; }
.start-6  { grid-column-start: 6; }
.start-7  { grid-column-start: 7; }
.start-8  { grid-column-start: 8; }
.start-9  { grid-column-start: 9; }
.start-10 { grid-column-start: 10; }
.start-11 { grid-column-start: 11; }
.start-12 { grid-column-start: 12; }

/* Gap utilities (multiples of 8px) */
.gap-0  { gap: 0; }
.gap-8  { gap: calc(var(--grid-base-unit) * 1); }
.gap-16 { gap: calc(var(--grid-base-unit) * 2); }
.gap-24 { gap: calc(var(--grid-base-unit) * 3); }
.gap-32 { gap: calc(var(--grid-base-unit) * 4); }
.gap-40 { gap: calc(var(--grid-base-unit) * 5); }
.gap-48 { gap: calc(var(--grid-base-unit) * 6); }
.gap-56 { gap: calc(var(--grid-base-unit) * 7); }
.gap-64 { gap: calc(var(--grid-base-unit) * 8); }

/* Padding/Margin utilities (shorthand, minimal set; all 8px-multiple) */
.p-0  { padding: 0 !important; }
.p-8  { padding: calc(var(--grid-base-unit) * 1) !important; }
.p-16 { padding: calc(var(--grid-base-unit) * 2) !important; }
.p-24 { padding: calc(var(--grid-base-unit) * 3) !important; }
.p-32 { padding: calc(var(--grid-base-unit) * 4) !important; }

.pt-8  { padding-top: calc(var(--grid-base-unit) * 1) !important; }
.pt-16 { padding-top: calc(var(--grid-base-unit) * 2) !important; }
.pt-24 { padding-top: calc(var(--grid-base-unit) * 3) !important; }
.pt-32 { padding-top: calc(var(--grid-base-unit) * 4) !important; }

.pb-8  { padding-bottom: calc(var(--grid-base-unit) * 1) !important; }
.pb-16 { padding-bottom: calc(var(--grid-base-unit) * 2) !important; }
.pb-24 { padding-bottom: calc(var(--grid-base-unit) * 3) !important; }
.pb-32 { padding-bottom: calc(var(--grid-base-unit) * 4) !important; }

.mt-0  { margin-top: 0 !important; }
.mt-8  { margin-top: calc(var(--grid-base-unit) * 1) !important; }
.mt-16 { margin-top: calc(var(--grid-base-unit) * 2) !important; }
.mt-24 { margin-top: calc(var(--grid-base-unit) * 3) !important; }
.mt-32 { margin-top: calc(var(--grid-base-unit) * 4) !important; }

.mb-0  { margin-bottom: 0 !important; }
.mb-8  { margin-bottom: calc(var(--grid-base-unit) * 1) !important; }
.mb-16 { margin-bottom: calc(var(--grid-base-unit) * 2) !important; }
.mb-24 { margin-bottom: calc(var(--grid-base-unit) * 3) !important; }
.mb-32 { margin-bottom: calc(var(--grid-base-unit) * 4) !important; }

/* Responsive columns switch: tablet and down */
@media (max-width: 768px) {
  :root { --grid-columns: 6; }
  .grid, [class^="grid-"], [class*=" grid-"] {
    grid-template-columns: repeat(6, minmax(0, 1fr));
  }

  /* Keep proportions on small tablets */
  .grid-2 > * { grid-column: span 3; } /* 2 per row */
  .grid-3 > * { grid-column: span 2; } /* 3 per row */
  .grid-4 > * { grid-column: span 3; } /* degrade to 2 per row for readability */

  /* Responsive span utilities */
  .sm-col-1  { grid-column: span 1 !important; }
  .sm-col-2  { grid-column: span 2 !important; }
  .sm-col-3  { grid-column: span 3 !important; }
  .sm-col-4  { grid-column: span 4 !important; }
  .sm-col-5  { grid-column: span 5 !important; }
  .sm-col-6  { grid-column: span 6 !important; }

  .sm-start-1  { grid-column-start: 1 !important; }
  .sm-start-2  { grid-column-start: 2 !important; }
  .sm-start-3  { grid-column-start: 3 !important; }
  .sm-start-4  { grid-column-start: 4 !important; }
  .sm-start-5  { grid-column-start: 5 !important; }
  .sm-start-6  { grid-column-start: 6 !important; }
}

/* Responsive columns switch: phones */
@media (max-width: 480px) {
  :root { --grid-columns: 4; }
  .grid, [class^="grid-"], [class*=" grid-"] {
    grid-template-columns: repeat(4, minmax(0, 1fr));
    gap: 16px; /* tighter spacing for very small screens, still multiple of 8 */
  }

  /* Maintain readable proportions on phones */
  .grid-2 > * { grid-column: span 4; } /* 1 per row — larger blocks */
  .grid-3 > * { grid-column: span 4; } /* 1 per row for clarity */
  .grid-4 > * { grid-column: span 2; } /* 2 per row for small items */

  .xs-col-1  { grid-column: span 1 !important; }
  .xs-col-2  { grid-column: span 2 !important; }
  .xs-col-3  { grid-column: span 3 !important; }
  .xs-col-4  { grid-column: span 4 !important; }

  .xs-start-1  { grid-column-start: 1 !important; }
  .xs-start-2  { grid-column-start: 2 !important; }
  .xs-start-3  { grid-column-start: 3 !important; }
  .xs-start-4  { grid-column-start: 4 !important; }
}

/* Retina-friendly image handling (general guidelines) */
img, svg {
  image-rendering: -webkit-optimize-contrast; /* better downscaling */
}
/* Background images can opt-in to image-set for @2x/@3x if provided */
.bg-2x {
  background-size: cover;
  background-repeat: no-repeat;
}

/* Performance & stability */
.grid, [class^="grid-"], [class*=" grid-"] {
  contain: layout paint;
}

/* Optional utility for full-bleed section inside constrained container */
.full-bleed {
  grid-column: 1 / -1;
}